webpackJsonp(["app/js/open-course-manage/base/index"],{"86a8d3a54811653afca1":function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(){a(this,e),this.initSelect2(),this.initCkeditor(),this.initValidator(),this.initCategory()}return i(e,[{key:"initSelect2",value:function(){var e;$("#course_tags").select2((e={ajax:{url:app.arguments.tagMatchUrl+"#",dataType:"json",quietMillis:100,data:function(e,t){return{q:e,page_limit:10}},results:function e(t){var e=[];return $.each(t,function(t,n){e.push({id:n.name,name:n.name})}),{results:e}}},initSelection:function(e,t){var n=[];$(e.val().split(",")).each(function(){n.push({id:this,name:this})}),t(n)},formatSelection:function(e){return e.name},formatResult:function(e){return e.name},formatSearching:function(){return Translator.trans("open_course.load_search_hint")},width:"off",multiple:!0,maximumSelectionSize:20,placeholder:Translator.trans("open_course.tag_required_hint")},n(e,"width","off"),n(e,"multiple",!0),n(e,"createSearchChoice",function(){return null}),n(e,"maximumSelectionSize",20),e))}},{key:"initValidator",value:function(){var e=$("#course-form"),t=e.validate({rules:{title:{required:!0},subtitle:{required:!0,maxlength:70}}});$("#course-create-btn").click(function(){t.form()&&e.submit()})}},{key:"initCkeditor",value:function(){$("#course-about-field").length>0&&CKEDITOR.replace("course-about-field",{allowedContent:!0,toolbar:"Detail",filebrowserImageUploadUrl:$("#course-about-field").data("imageUploadUrl")})}},{key:"initCategory",value:function(){$('[data-role="tree-select"], [name="categoryId"]').select2({treeview:!0,dropdownAutoWidth:!0,treeviewInitState:"collapsed",placeholderOption:"first"})}}]),e}();t.default=r},0:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var i=n("86a8d3a54811653afca1"),r=a(i);new r.default}});