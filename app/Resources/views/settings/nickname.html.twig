{% extends 'settings/layout.html.twig' %}
{% block title %}{{'user.settings.verification'|trans}} - {{ parent() }}{% endblock %}
{% set side_nav = 'profile' %}
{% do script(['libs/jquery-validation.js','app/js/settings/nickname/index.js']) %}

{% block main %}
  {% embed "bootstrap/panel.html.twig" with {class:'panel-col'} %}
    {% block heading %}{{'user.settings.verification.username_modify'|trans}}{% endblock %}
    {% block body %}
      <form id="nickname-form" class="form-horizontal" method="post" enctype="multipart/form-data">

        {{ web_macro.flash_messages() }}

        <div class="form-group">
          <div class="col-md-2 control-label">
            <label for="nickname">{{'user.fields.username_label'|trans}}</label>
          </div>
          <div class="col-md-8 controls">
          <input data-url={{path ('update_nickname_check') }} type="text" id="nickname" name="nickname" class="form-control" value="{{app.user.nickname}}">
          </div>
        </div>

        <div class="row">
          <div class="col-md-7 col-md-offset-2">
            <button id="nickname-btn" type="button" class="btn btn-primary" data-loading-text="{{'form.btn.submit.submiting'|trans}}">{{'form.btn.submit'|trans}}</button>
            <a class="btn btn-link" href="{{ path('settings') }}">{{'form.btn.return'|trans}}</a>
          </div>
        </div>

        <input type="hidden" name="_csrf_token" value="{{ csrf_token('site') }}">
      </form>
    {% endblock %}
  {% endembed %}
{% endblock %}
